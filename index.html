<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padronizador de Arquivos Avançado</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <h1>Padronizador de Arquivos Avançado</h1>
        <p>Renomeie e padronize seus arquivos com Regex e Numeração Sequencial</p>
    </header>

    <main>
        <section class="dropzone" id="drop-area">
            <div class="upload-icon">
                <i class="fas fa-cloud-upload-alt"></i>
            </div>
            <p>Arraste seus arquivos aqui</p>
            <p>ou</p>
            <button class="btn primary" id="file-selector">Selecionar arquivos</button>
            <input type="file" id="fileElem" multiple accept="*/*" style="display:none">
        </section>

        <section class="file-list">
            <h3>Arquivos selecionados (<span id="file-count">0</span>)</h3>
            <div id="file-list-container"></div>
        </section>

        <section class="tools">
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header">
                        <h3>Substituição com Regex</h3>
                        <p>Use expressões regulares para substituições avançadas</p>
                    </div>
                    <div class="accordion-content">
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="use-regex">
                                <span class="checkmark"></span>
                                Usar expressões regulares
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="search-pattern">Procurar por:</label>
                            <input type="text" id="search-pattern" placeholder="Padrão de busca...">
                        </div>
                        <div class="form-group">
                            <label for="replace-pattern">Substituir por:</label>
                            <input type="text" id="replace-pattern" placeholder="Texto de substituição...">
                        </div>
                        <div class="regex-tester">
                            <h4>Testador de Regex</h4>
                            <div id="regex-test-result" class="regex-result">Resultado aparecerá aqui</div>
                            <p><strong>Exemplos:</strong></p>
                            <ul>
                                <li><code>img_(\d+)</code> - captura números após "img_"</li>
                                <li><code>^(.*?)_(\d+)\.jpg$</code> - separa nome e número</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header">
                        <h3>Adicionar prefixo/sufixo</h3>
                    </div>
                    <div class="accordion-content">
                        <div class="form-group">
                            <label for="prefix">Prefixo:</label>
                            <input type="text" id="prefix" placeholder="Texto no início do nome...">
                        </div>
                        <div class="form-group">
                            <label for="suffix">Sufixo (antes da extensão):</label>
                            <input type="text" id="suffix" placeholder="Texto antes da extensão...">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="allow-reference">
                                <span class="checkmark"></span>
                                Permitir referências de grupo ($1, $2) de regex
                            </label>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header">
                        <h3>Formatar texto</h3>
                    </div>
                    <div class="accordion-content">
                        <div class="form-group">
                            <label class="radio-container">
                                <input type="radio" name="case" value="lowercase">
                                <span class="radio-mark"></span>
                                Minúsculas
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="radio-container">
                                <input type="radio" name="case" value="uppercase">
                                <span class="radio-mark"></span>
                                MAIÚSCULAS
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="radio-container">
                                <input type="radio" name="case" value="capitalize">
                                <span class="radio-mark"></span>
                                Primeira Letra Maiúscula
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="remove-spaces">
                                <span class="checkmark"></span>
                                Remover espaços
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="replace-spaces">Substituir espaços por:</label>
                            <input type="text" id="replace-spaces" placeholder="_">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="remove-accents">
                                <span class="checkmark"></span>
                                Remover acentos
                            </label>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header">
                        <h3>Numeração Sequencial</h3>
                    </div>
                    <div class="accordion-content">
                        <div class="form-group">
                            <label for="start-number">Número inicial:</label>
                            <input type="number" id="start-number" value="1" min="0">
                        </div>
                        <div class="form-group">
                            <label for="increment">Incremento:</label>
                            <input type="number" id="increment" value="1" min="1">
                        </div>
                        <div class="form-group">
                            <label for="number-format">Formato:</label>
                            <select id="number-format">
                                <option value="prefix">Prefixo (001_arquivo.txt)</option>
                                <option value="suffix">Sufixo (arquivo_001.txt)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="padding">Dígitos (preenchimento com zeros):</label>
                            <input type="number" id="padding" value="3" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label for="separator">Separador:</label>
                            <input type="text" id="separator" value="_" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="sort-by">Ordenar arquivos por:</label>
                            <select id="sort-by">
                                <option value="name">Nome (alfabético)</option>
                                <option value="date">Data de modificação</option>
                                <option value="size">Tamanho do arquivo</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header">
                        <h3>Extração com padrões</h3>
                        <p>Extrair partes específicas do nome usando regex e referenciá-las</p>
                    </div>
                    <div class="accordion-content">
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="use-extraction">
                                <span class="checkmark"></span>
                                Ativar extração de padrões
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="extraction-pattern">Padrão de extração:</label>
                            <input type="text" id="extraction-pattern" placeholder="Ex: ^(.*)_(\d+)$">
                            <p class="help-text">Use parênteses para definir grupos de captura. Acesse-os como $1, $2, etc.</p>
                        </div>
                        <div class="form-group">
                            <label for="output-template">Template de saída:</label>
                            <input type="text" id="output-template" placeholder="Ex: $2_$1">
                            <p class="help-text">Use $1, $2 para se referir aos grupos capturados no padrão acima.</p>
                        </div>
                        <div class="example-block">
                            <p><strong>Exemplo:</strong> Para o arquivo "documento_2023.pdf"</p>
                            <p>Padrão <code>^(.*)_(\d+)$</code> captura "documento" como $1 e "2023" como $2</p>
                            <p>Template <code>$2_$1</code> resultará em "2023_documento.pdf"</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="preview">
            <h3>Prévia dos resultados</h3>
            <div id="preview-container"></div>
        </section>

        <section class="actions">
            <button class="btn secondary" id="reset-btn">Limpar</button>
            <button class="btn primary" id="download-btn" disabled>
                <i class="fas fa-download"></i> Baixar arquivos renomeados
            </button>
        </section>
    </main>

    <footer>
        <p>Desenvolvido para padronização de nomes de arquivos | 2025</p>
    </footer>

    <script src="js/regexHelper.js"></script>
    <script src="js/sequentialNumbering.js"></script>
    <script src="js/fileProcessor.js"></script>
    <script src="js/app.js"></script>
</body>
</html>